<!DOCTYPE html>
<html lang="pt-BR">

<head>
	<meta charset="utf-8">
	<title>Jogo Multiplayer</title>

	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
	<meta http-equiv="Pragma" content="no-cache" />
	<meta http-equiv="Expires" content="0" />
	<meta name='viewport' content='user-scalable=0' />

	<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@800&display=swap" rel="stylesheet" />
	<link rel="stylesheet" href='./css/game.css' />

	<script src="//code.jquery.com/jquery-3.5.1.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js"></script>

</head>

<body>

	<canvas id="game-area"></canvas>

  <div id="speed">
    <p>Velocidade:</p>
    <p class="color-red">X: <span id="velX"></span></p>
    <p class="color-green">Y: <span id="velY"></span></p>
    <div id="GravCampAlert">
      <p id="campAlt"></p>
    </div>
    <p class="little">< X <span id="posX"></span> ></p>
    <p class="little">< Y <span id="posY"></span> ></p>
  </div>

	<script type="module">
	  import createGame from './game.js'
    import createMap from './map.js'
    import makeGravity from './gravity.js'
    import renderScreen from './render.js'

    // HTML
    const area = document.getElementById('game-area')
    area.width = innerWidth
    area.height = innerHeight
    const ctx = area.getContext('2d')

    const map = createMap()
    map.GenerateName(10)
    map.spawPlanets(10,900)


    const game = createGame(makeGravity, map, area)

    const render = renderScreen(document, ctx, game, map, {x: area.width, y: area.height})
    render.addUI(['campAlt', 'velX', 'velY', 'posX', 'posY'])

    function requestRender ()
    {
      render.start(game.fps, game.toDisplay)
    } requestRender()

	</script>
</body>

</html>