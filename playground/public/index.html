<!DOCTYPE html>
<html>

<head>
    <title>Jogo Multiplayer</title>

    <!-- META / Settings --->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta name='viewport' content='user-scalable=0' />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <meta charset="utf-8">

    <!-- LINK  / Fonts / Css --->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@800&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href='./css/game.css' />

    <!-- SCRIPT / External -->
    <script src="//code.jquery.com/jquery-3.5.1.min.js"></script>
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js"></script> (Effects) -->

</head>

<body>

    <canvas id="game-area" style="background-color: #000;"></canvas>

    <script type="module">
        const playerId = 'testeId'
        import createInput from './js/input-listener.js'
        import createGame from './js/game.js'
        import createRender from './js/render.js'

        const game = createGame(60)
        const render = createRender(game.state, playerId)

        const myRocket = game.addNewPlayer({id: playerId, x: 300, y: 300, rotation: 90 })
        game.addPlayerFunctions(myRocket, {thrustSpeed : 0.5, boosterSpeed: 1.5})

        const inputListener = createInput()
        setInterval( () => {

        Object.assign(myRocket.controller, inputListener)
        myRocket.move()

        }, 1000/ 60 )

        const other = game.addNewPlayer({id: 'test', x: 400, y: 300, rotation: 90 })

    </script>
</body>

</html>
